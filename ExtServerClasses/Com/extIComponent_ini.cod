extends Com.IComponent;
Import Com.Lib;

--линки на расширения
--Link:Com.IComponent  -- Базовый класс
--Link:CTUL.Com.extIComponent_ini  -- CTUL(это текущее расширение)

inclass public
  #Help `Определяет принадлежность объека к текущему классу`;
  func isSelfClass Synonym isTSelf (aObject :Object) :Logical ;
    Result = aObject.InheritsFrom(self);
  end;



  #Help `Storage из именованных(по имени метода) наборов команд/параметров`;
  var Stack_Cmd :Storage;

  #Help `Добавляет aCmd :Stack с командами/параметрами в Stack_Cmd:Storage в поле с именем aMethod`;
  proc AddStack_Cmd(aMethod :string; aCmd :Stack);
    if Stack_Cmd = nil:
      Stack_Cmd = Storage.Create;
    fi;
    Stack_Cmd[aMethod] = aCmd;
  end;

inclass private
inobject public

  proc InitDefaultProcessing;
    extended InitDefaultProcessing;
    if Stack_Cmd <> nil:
      CmdByStack(Stack_Cmd['Create'] as Stack, self);
    fi;
  end;


inobject private
  proc AfterInit;
    if Stack_Cmd <> nil:
      CmdByStack(Stack_Cmd['AfterInit'] as Stack, self);
    fi;
    extended AfterInit;
  end;
end