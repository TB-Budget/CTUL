extends Com.Ctrl.IFrame;

--линки на расширения
--Link:Com.Ctrl.IFrame  -- Базовый класс
--Link:Com.Ctrl.extIFrame  --  Расширение для клиента

inclass public
inclass private

  -- 2_Реализация обработки записей, имеющих ссылку на редактируемую, как табличного фрейма.0. --
  -{
  Фрейм всегда - табличный (FrameType = TableFrame), но не связанный с подтаблицей.
  Попытка добавить позицию в таблицу приводит к созданию новой записи.
  Поле этой новой записи, предназначенное для хранения ссылки на редактируемую запись, уже проинициализировано.
  Попытка удалить позицию из таблицы приводит также к удалению записи (если это возможно).
  }

inobject public

  #Help `  Инициализация таблицы (фрейма), визуализирующей записи, содержащие ссылки на редактируемую.
           Возвращает CTUL.LinkTable.EdtRec (таблицу).
           Параметры:
           aName :String - Имя таблицы;
           extIRecordClass :class Com.Rec.IRecord - класс обертки сопряженной записи;
           extLinkFieldName :string - имя поля, содержащего ссылку на редактируемую запись;
           extOrder :string = nil - правило сортировки (как "ИмяПоля1;ИмяПоля2") сопряженных записей;
           AddextFilter :string = nil - дополнительное условие фильтрации записей (складывается по "И" с основным)`;
--           aCreaterReversLink :func = nil - Конструктор новой сопряженной записи`;
  func AddEdtRecLinkTable(aName :String; extIRecordClass :class Com.Rec.IRecord; extLinkFieldName :string; extOrder, AddextFilter :string = nil) :CTUL.LinkTable.EdtRec;
    var vLinkParam = Com.Utils.CreateStorage(['AddextFilter', AddextFilter, 'extOrder', extOrder]);
    Result = CTUL.LinkTable.EdtRec.NewEdtRecLinkTable(self, aName, extIRecordClass, extLinkFieldName, vLinkParam);
  end;


inobject private

end